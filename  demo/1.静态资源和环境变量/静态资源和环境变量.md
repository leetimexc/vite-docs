### 静态资源

- 资源目录

  ```js
  // vite.config.ts:
  import path from 'path'
  import { defineConfig } from 'vite'

  export default defineConfig({
    // publicDir: 'public',  不写的时候默认值 public
    // 影响：pnpm dev 运行后，静态资源 /vite.svg 指向
    resolve: {
      alias: {
        '@': path.resolve(__dirname, 'src'),
      },
    },
  })
  ```

- 各种文件的引入
- 修饰符
  - url/raw/inline/worker

### 环境变量

- 内置变量

  - MODE
  - BASE_URL
  - PROD
  - DEV
  - SSR

  ```js
  console.log('env', import.meta.env)

  // 打印输出
  {
    BASE_URL: "/",
    DEV: true,
    MODE: "development",
    PROD: false,
    SSR: false
  }
  ```

- 模式

  ```js
    // 默认是 production
    vite build

    // 定义 development
    --mode development
  ```

  和 NODE_ENV 是两个概念

  ```
    // 默认是production
    vite build

    // development
    NODE_ENV=development vite build

    // import.meta.env.PROD=true
    NODE_ENV=production

    // import.meta.env.DEV=true
    NODE_ENV=development
  ```

- 自定义

  ```js
  // 不同模式下都有的
  .env
  VITE_A_VAL="Value for A"

  // 开发环境
  .env.development
  VITE_A_VAL="Value for A in development"

  // 开发环境本地，.gitignore 里面添加，可以覆盖.env.development变量
  .env.development.local
  VITE_A_VAL="Value for A in development local"

  // 优化开发体验,输入可以有提示
  vite-env.d.ts
  interface ImportMetaEnv {
    readonly VITE_A_VAL: string
  }

  // html中使用
  <h1> %VITE_A_VAL% </h1>
  ```
